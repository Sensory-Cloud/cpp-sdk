<!-- HTML header for doxygen 1.8.18-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta name="generator" content="Doxygen 1.9.2" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SensoryCloud C++ SDK: Contributing</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
    <link href="html_stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <div id="top">
        <!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
            <table cellspacing="0" cellpadding="0">
                <tbody>
                    <tr style="height: 56px;">
                        <td id="projectalign" style="padding-left: 0.5em;">
                            <div id="projectname">SensoryCloud C++ SDK
                                &#160;<span id="projectnumber">1.0.7</span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Contributing </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >The following passages articulate the setup of the development environment and describe how to generate new protobuf &amp; gRPC code, run unit tests, etc.</p>
<h1>Compilation</h1>
<p >To compile the library from the top-level of this repository:</p>
<div class="fragment"><div class="line">mkdir -p build &amp;&amp; cd build</div>
<div class="line">cmake ..</div>
<div class="line">make</div>
</div><!-- fragment --><h1>Protobuf and gRPC code generation</h1>
<p >To generate proto and gRPC code, execute:</p>
<div class="fragment"><div class="line">cmake -DSENSORY_CLOUD_GENERATE_PROTO=ON ..</div>
<div class="line">make</div>
</div><!-- fragment --><h1>Docker image generation</h1>
<p >To generate docker images for testing on Linux:</p>
<div class="fragment"><div class="line">docker compose build --parallel</div>
</div><!-- fragment --><p >this will build docker images according to the <code>docker-compose.yaml</code> file.</p>
<h1>Unit testing</h1>
<p >To build unit tests, execute:</p>
<div class="fragment"><div class="line">cmake -DSENSORY_CLOUD_BUILD_TESTS=ON ..</div>
<div class="line">make</div>
</div><!-- fragment --><p >to execute unite tests, execute:</p>
<div class="fragment"><div class="line">find . -name &quot;test_sensorycloud*&quot; -maxdepth 1 -type f -exec echo {} \; -exec {} \;</div>
</div><!-- fragment --><h1>Code release procedure</h1>
<p >This passage outlines the steps involved with releasing a new version of the SDK.</p>
<ol type="1">
<li><p class="startli">Pull the latest proto files from the <code>proto</code> sub-module.</p>
<p class="startli">```shell cd proto git pull git checkout &lt;branch or tag&gt; cd .. git add proto git commit -m 'update proto to &lt;branch or tag&gt;' ```</p>
</li>
</ol>
<ol type="1">
<li><p class="startli">Recompile the protobuf and gRPC header and source files.</p>
<p class="startli">```shell mkdir -p build &amp;&amp; cd build cmake -DSENSORY_CLOUD_GENERATE_PROTO=ON .. make cd .. git add include/sensorycloud/generated/ git commit -m 'regenerate proto/grpc headers and source for &lt;branch or tag&gt;' ```</p>
</li>
</ol>
<ol type="1">
<li><p class="startli">Run unit tests against all target platforms and confirm a green light.</p>
<p class="startli">```shell mkdir -p build &amp;&amp; cd build cmake -DSENSORY_CLOUD_BUILD_TESTS=ON .. make find . -name "test_sensorycloud*" -maxdepth 1 -type f -exec echo {} \; -exec {} \; ```</p>
</li>
</ol>
<ol type="1">
<li><p class="startli">Compile example projects against target platforms using the development branch and execute the example applications to test as needed.</p>
<p class="startli">```shell mkdir -p build &amp;&amp; cd build cmake -DSENSORY_CLOUD_BUILD_EXAMPLES=ON .. make ```</p>
</li>
</ol>
<ol type="1">
<li><p class="startli">Update the library version in <a href="CMakeLists.txt">CMakeLists.txt</a></p>
<p class="startli">```cmake ... project(sensory-cloud-cpp-sdk VERSION &lt;tag to target&gt;) ... ```</p>
</li>
</ol>
<ol type="1">
<li><p class="startli">Update the library version in the <code>CMakeLists.txt</code> of each example project.</p>
<p class="startli">```cmake ... FetchContent_Declare(sensorycloud URL <a href="https://codeload.github.com/Sensory-Cloud/cpp-sdk/tar.gz/refs/tags/">https://codeload.github.com/Sensory-Cloud/cpp-sdk/tar.gz/refs/tags/</a>&lt;tag to target&gt; ) ... ```</p>
<p class="startli">The files to change include:</p><ul>
<li><a href="examples/video/CMakeLists.txt">examples/video/CMakeLists.txt</a></li>
<li><a href="examples/audio/CMakeLists.txt">examples/audio/CMakeLists.txt</a></li>
<li><a href="examples/management/CMakeLists.txt">examples/management/CMakeLists.txt</a></li>
</ul>
</li>
</ol>
<ol type="1">
<li><p class="startli">Update the <code>URL</code> in README snippets</p>
<p class="startli">```cmake URL <a href="https://codeload.github.com/Sensory-Cloud/cpp-sdk/tar.gz/refs/tags/">https://codeload.github.com/Sensory-Cloud/cpp-sdk/tar.gz/refs/tags/</a>&lt;tag to target&gt; ```</p>
<p class="startli">The files to change include:</p><ul>
<li><a class="el" href="index.html#md_README">README.md</a></li>
<li><a class="el" href="md__t_u_t_o_r_i_a_l.html">TUTORIAL.md</a></li>
</ul>
</li>
</ol>
<ol type="1">
<li>Update <code>CHANGELOG.md</code> with the new features / bug fixes / changes.</li>
</ol>
<ol type="1">
<li><p class="startli">Update the the <code>PROJECT_NUMBER</code> in [Doxyfile](Doxyfile) to reflect the change in version. Regenerate documentation using the following command and commit and push the changes in the <code>docs</code> folder.</p>
<p class="startli">```shell doxygen Doxyfile ```</p>
</li>
</ol>
<ol type="1">
<li>Request a code review from another team member.</li>
</ol>
<ol type="1">
<li>Merge changes into the main branch (they will be mirrored to GitHub).</li>
</ol>
<ol type="1">
<li>Tag the commit and document the changes in the release notes on GitLab.</li>
</ol>
<ol type="1">
<li>Compile example projects against all target platforms using the released production code from GitHub. </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.18-->
<!-- start footer part -->
</body>
</html>
